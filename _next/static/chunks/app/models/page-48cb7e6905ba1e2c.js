(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{"(app-pages-browser)/./app/models/page.tsx":(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),a=t("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=t("(app-pages-browser)/./node_modules/openai/index.mjs"),n=t("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clipboard-copy.js");let o=e=>{let{model:s,open:t,onOpenChange:o,apiKey:i,setApiKey:d,onCopyModelId:c}=e,[p,m]=(0,a.useState)([]),[u,x]=(0,a.useState)(""),[g,h]=(0,a.useState)(!1),[b,f]=(0,a.useState)(null),y=(0,a.useMemo)(()=>(null==i?void 0:i.trim())?new l.z4({apiKey:i.trim(),dangerouslyAllowBrowser:!0,baseURL:"https://bytarch.taile6b163.ts.net/back-end/v1"}):null,[i]),v=e=>"user"===e||"assistant"===e||"system"===e,w=async()=>{if(!u.trim()||!y)return;let e=[...p,{role:"user",content:u}];m(e),x(""),h(!0),f(null);try{let r=e.map(e=>({role:e.role,content:e.content})),a=await y.chat.completions.create({model:s.id,messages:r,stream:!1});if(a.choices&&a.choices.length>0){let s=a.choices[0].message;if(s&&v(s.role)){var t;m([...e,{role:s.role,content:null!==(t=s.content)&&void 0!==t?t:""}])}else f("No response from API.")}else f("No response from API.")}catch(e){f("Error: ".concat(e instanceof Error?e.message:String(e)))}finally{h(!1)}};return(0,r.jsxs)("div",{className:"flex flex-col h-full max-h-[600px] w-full max-w-4xl rounded-lg bg-gray-900 text-white shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-700",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:s.id.replace(/^openai\//,"OpenAI: ").replace(/-/g," ")}),(0,r.jsx)("button",{title:"Copy model ID",onClick:()=>c(s.id),className:"text-gray-400 hover:text-gray-200 p-1 rounded",children:(0,r.jsx)(n.A,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col px-4 pt-4 overflow-y-auto space-y-4 bg-gray-800",children:[0===p.length&&!b&&(0,r.jsx)("div",{className:"text-gray-400 italic text-center",children:"Start the conversation by typing below."}),b&&(0,r.jsxs)("div",{className:"bg-red-700 text-red-300 px-4 py-2 rounded text-center text-sm font-medium mb-2",children:["⚠️ ",b]}),p.map((e,s)=>{let t="user"===e.role;return(0,r.jsxs)("div",{className:"max-w-3xl rounded-lg p-3 whitespace-pre-wrap break-words ".concat(t?"bg-blue-600 text-white self-end":"bg-gray-700 text-gray-100 self-start"," ").concat(t?"text-right":"text-left"," rounded-tl-lg rounded-tr-lg"),children:[(0,r.jsx)("div",{className:"text-xs font-semibold mb-1 capitalize",children:e.role}),(0,r.jsx)("div",{children:e.content})]},s)}),g&&(0,r.jsx)("div",{className:"text-gray-400 italic text-center",children:"Waiting for response..."})]}),(0,r.jsxs)("div",{className:"flex items-center px-4 py-3 border-t border-gray-700 bg-gray-900",children:[(0,r.jsx)("textarea",{className:"flex-grow resize-none rounded-md p-2 border border-gray-700 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Chat with your prompt...",rows:1,value:u,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),g||w())},disabled:g||!(null==i?void 0:i.trim())}),(0,r.jsx)("button",{onClick:w,disabled:g||!u.trim()||!(null==i?void 0:i.trim()),className:"ml-3 bg-green-600 hover:bg-green-700 disabled:bg-green-900 disabled:cursor-not-allowed text-white px-4 py-2 rounded flex items-center","aria-label":"Send message",children:(0,r.jsxs)("svg",{className:"w-5 h-5 transform rotate-45",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,r.jsx)("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),(0,r.jsx)("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]})]})};var i=t("(app-pages-browser)/./node_modules/next/dist/api/navigation.js");let d=e=>{var s,t;let{model:a,onClick:l,onCopyModelId:o}=e;return(0,i.useRouter)(),(0,i.useSearchParams)(),(0,r.jsxs)("div",{className:"pb-6 mb-6 border-b border-gray-200 dark:border-gray-700 last:border-b-0 last:pb-0 last:mb-0 cursor-pointer",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1",onClick:()=>{l()},role:"button",tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),l())},children:[(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)("h2",{className:"text-base font-semibold",children:a.id.replace(/^openai\//,"OpenAI: ").replace(/-/g," ")})}),(0,r.jsx)("button",{title:"Copy model ID",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 active:text-gray-900 dark:active:text-gray-100 p-1 -m-1 rounded",onClick:e=>{e.stopPropagation(),o(a.id)},children:(0,r.jsx)(n.A,{className:"w-4 h-4"})})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1 leading-normal line-clamp-2",children:null!==(t=a.description)&&void 0!==t?t:"Model description not available."}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 dark:text-gray-500 mb-1",children:[(0,r.jsxs)("span",{className:"mr-2",children:["Type: ",(0,r.jsx)("strong",{children:a.type})]}),(0,r.jsxs)("span",{className:"mr-2",children:["Modalities: ",(0,r.jsx)("strong",{children:(null===(s=a.modalities)||void 0===s?void 0:s.join(", "))||"n/a"})]}),(0,r.jsxs)("span",{children:["Owner: ",(0,r.jsx)("strong",{children:a.owned_by})]})]}),(0,r.jsx)("div",{className:"text-xs italic text-primary-700 dark:text-primary-300",children:"Pricing depends on usage."})]})},c=e=>{var s;let{searchQuery:t,models:l,totalModelCount:n,loading:i,error:c}=e,[p,m]=(0,a.useState)([]),[u,x]=(0,a.useState)(null),[g,h]=(0,a.useState)(()=>{try{let e=window.sessionStorage.getItem("apiKeys");if(e)return JSON.parse(e)}catch(e){}return{}});(0,a.useEffect)(()=>{try{window.sessionStorage.setItem("apiKeys",JSON.stringify(g))}catch(e){}},[g]),(0,a.useEffect)(()=>{if(l){let e=t.toLowerCase();m(l.filter(s=>s.id.toLowerCase().includes(e)||s.description&&s.description.toLowerCase().includes(e)||s.owned_by.toLowerCase().includes(e)))}},[l,t]);let b=async e=>{try{await navigator.clipboard.writeText(e),console.log("Copied to clipboard:",e)}catch(e){console.error("Failed to copy text: ",e)}};if(i)return(0,r.jsx)("div",{className:"text-center py-10",children:"Loading models..."});if(c)return(0,r.jsxs)("div",{className:"text-center text-red-500 py-10",children:["Error loading models: ",c]});let f=null!==(s=null==l?void 0:l.find(e=>e.id===u))&&void 0!==s?s:null;return(0,r.jsxs)("div",{className:"space-y-6",children:[l&&l.length>0&&!i&&n>0&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Showing ",null==p?void 0:p.length," of ",n," models found."," ",t&&'(Filtered by "'.concat(t,'")')]}),p&&0===p.length&&!i&&(0,r.jsx)("p",{className:"text-center text-gray-500 py-10",children:"No models found matching your filters."}),null==p?void 0:p.map(e=>(0,r.jsx)(d,{model:e,onClick:()=>{x(e.id)},onCopyModelId:b},e.id)),f&&(0,r.jsx)(o,{model:f,open:!0,onOpenChange:e=>{e||x(null)},apiKey:g[f.id]||"",setApiKey:e=>h(s=>({...s,[f.id]:e})),onCopyModelId:b})]})};var p=t("(app-pages-browser)/./lib/utils.ts");function m(e){let{className:s,type:t,...a}=e;return(0,r.jsx)("input",{type:t,"data-slot":"input",className:(0,p.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...a})}var u=t("(app-pages-browser)/./components/ui/button.tsx"),x=t("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/square-terminal.js"),g=t("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js"),h=t("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/building.js"),b=t("(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/list.js"),f=t("(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js"),y=t.n(f);let v=()=>{let[e,s]=(0,a.useState)(""),[t,l]=(0,a.useState)(null),[n,o]=(0,a.useState)(0),[i,d]=(0,a.useState)(!0),[p,f]=(0,a.useState)(null),[v,w]=(0,a.useState)("all");(0,a.useEffect)(()=>{(async()=>{d(!0),f(null);try{let e=await fetch("https://bytarch.dpdns.org/v1/models");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let s=await e.json(),t=s.data.map(e=>{var s;return{...e,description:null!==(s=e.description)&&void 0!==s?s:"The ".concat(e.id," model from ").concat(e.owned_by,".")}});l(t),o(s.total_models||t.length)}catch(e){f(e.message),l([]),o(0)}finally{d(!1)}})()},[]);let j=a.useMemo(()=>t?["all",...Array.from(new Set(t.map(e=>e.type).filter(Boolean)))]:[],[t]),N=a.useMemo(()=>{if(!t)return[];let s=t;return"all"!==v&&(s=s.filter(e=>e.type===v)),e&&(s=s.filter(s=>{var t;return s.id.toLowerCase().includes(e.toLowerCase())||(null===(t=s.description)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase()))})),s},[t,v,e]);return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-100 dark:bg-gray-900",children:[(0,r.jsxs)("nav",{className:"bg-gray-900 text-white p-3 rounded-lg shadow-lg my-4 mx-4 md:mx-6 flex items-center justify-between sticky top-4 z-50",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"font-semibold text-lg",children:"BytArch AI"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(y(),{href:"/",className:"flex items-center text-sm text-gray-400 hover:text-white",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 md:mr-1"})," ",(0,r.jsx)("span",{className:"hidden md:inline",children:"Console"})]}),(0,r.jsxs)(y(),{href:"https://bytarch.sytes.net/",className:"flex items-center text-sm text-gray-400 hover:text-white",children:[(0,r.jsx)(g.A,{className:"h-4 w-4 md:mr-1"})," ",(0,r.jsx)("span",{className:"hidden md:inline",children:"Genie"})]}),(0,r.jsxs)(y(),{href:"https://bytarch.netlify.app/",className:"flex items-center text-sm text-gray-400 hover:text-white",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 md:mr-1"})," ",(0,r.jsx)("span",{className:"hidden md:inline",children:"Company"})]})]})]}),(0,r.jsxs)("main",{className:"flex-1 p-6 md:px-10 md:pb-10",children:[" ",(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[" ",(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:"Models"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("span",{className:"text-sm text-gray-500",children:i?"Loading...":p?"Error":"".concat(n," models")}),(0,r.jsx)(u.$,{variant:"ghost",size:"sm",children:"Reset Filters"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,r.jsx)(m,{type:"search",placeholder:"Filter models",className:"flex-1 bg-gray-100 dark:bg-gray-800",value:e,onChange:e=>{s(e.target.value)}}),(0,r.jsx)("select",{value:v,onChange:e=>w(e.target.value),className:"bg-gray-100 dark:bg-gray-800 border rounded px-2 py-1 text-sm focus:outline-none","aria-label":"Filter by type",children:j.map(e=>(0,r.jsx)("option",{value:e,children:"all"===e?"All types":e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,r.jsx)("div",{className:"flex border rounded",children:(0,r.jsx)(u.$,{variant:"ghost",size:"icon",className:"border-r rounded-none",children:(0,r.jsx)(b.A,{className:"w-4 h-4"})})})]}),(0,r.jsx)(c,{searchQuery:e,models:N,totalModelCount:N.length,loading:i,error:p})]})]})}},"(app-pages-browser)/./components/ui/button.tsx":(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var r=t("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js"),a=t("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js"),l=t("(app-pages-browser)/./node_modules/@radix-ui/react-slot/dist/index.mjs"),n=t("(app-pages-browser)/./node_modules/class-variance-authority/dist/index.mjs"),o=t("(app-pages-browser)/./lib/utils.ts");let i=(0,n.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:n,asChild:d=!1,...c}=e,p=d?l.DX:"button";return(0,r.jsx)(p,{className:(0,o.cn)(i({variant:a,size:n,className:t})),ref:s,...c})});d.displayName="Button"},"(app-pages-browser)/./lib/utils.ts":(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var r=t("(app-pages-browser)/./node_modules/clsx/dist/clsx.mjs"),a=t("(app-pages-browser)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs");function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},"(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CAdmin%5C%5CDocuments%5C%5Cprojects%5C%5Capi_account_console%5C%5Capp%5C%5Cmodels%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!":(e,s,t)=>{Promise.resolve().then(t.bind(t,"(app-pages-browser)/./app/models/page.tsx"))}},e=>{var s=s=>e(e.s=s);e.O(0,[455,635,441,684,358],()=>s("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CAdmin%5C%5CDocuments%5C%5Cprojects%5C%5Capi_account_console%5C%5Capp%5C%5Cmodels%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!")),_N_E=e.O()}]);